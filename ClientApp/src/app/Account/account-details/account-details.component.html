<div class="card-container">
  <mat-toolbar>
    <p>Update Password</p>
  </mat-toolbar>
  <mat-card>
    <mat-card-content>
      <form [formGroup]="passwordForm" (ngSubmit)="validatePassword()">
        <mat-form-field>
          <mat-label>New password</mat-label>
          <input matInput type="password" formControlName="password" required/>
          <mat-error *ngIf="passwordForm.controls['password'].hasError">{{ handlePasswordFormErrors() }}</mat-error>
        </mat-form-field>
        <br />
        <mat-form-field>
          <mat-label>Confirm Password</mat-label>
          <input matInput type="password" formControlName="passwordConfirmation" required/>
          <mat-error *ngIf="validatePasswordForm()">Passwords do not match</mat-error>
        </mat-form-field>
        <br />
        <button mat-button type="submit" [disabled]="validatePasswordForm()">Update Password</button>
      </form>
    </mat-card-content>
  </mat-card>
</div>

<div class="card-container">
  <mat-toolbar>
    <p>Update Contact Details</p>
  </mat-toolbar>
  <mat-card>
    <mat-card-content>
      <div *ngIf="email; else noEmail">
        <span>Current Email: {{ email }}</span>
      </div>
      <ng-template #noEmail>
        <p>Current Email: Unknown</p>
      </ng-template>
      <form [formGroup]="emailForm" (ngSubmit)="validateEmail()">
        <mat-form-field>
          <mat-label>Email</mat-label>
          <input matInput type="text" formControlName="email" required/>
          <mat-error *ngIf="emailForm.controls['email'].hasError">{{ handleEmailFormErrors() }}</mat-error>
        </mat-form-field>
        <br />
        <mat-form-field>
          <mat-label>Confirm email</mat-label>
          <input matInput type="text" formControlName="emailConfirmation" required/>
        </mat-form-field>
        <br />
        <button mat-button type="submit" [disabled]="validateEmailForm()">Update Email</button>
      </form>

      <form (ngSubmit)="validatePhone()">
        <mat-form-field>
          <mat-label>Contact Number</mat-label>
          <input matInput type="number" [formControl]="phoneNumberForm" required minlength="8"/>
          <mat-error *ngIf="phoneNumberForm.hasError('required')">Required</mat-error>
        </mat-form-field>
        <br/>
        <button mat-button type="submit" [disabled]="!phoneNumberForm.valid">Update Number</button>
      </form>
    </mat-card-content>
  </mat-card>
</div>

<div class="card-container">
  <mat-toolbar>
    <p>Update Name</p>
  </mat-toolbar>
  <mat-card>
    <mat-card-content>
      <form [formGroup]="nameForm" (ngSubmit)="validateName()">
        <mat-form-field>
          <mat-label>Firstname:</mat-label>
          <input matInput type="text" formControlName="givenName" />
          <mat-error *ngIf="nameForm.controls.givenName.invalid">Needs to be greater than 2</mat-error>
        </mat-form-field>
        <br />
        <mat-form-field>
          <mat-label>Lastname:</mat-label>
          <input matInput type="text" formControlName="familyName" />
        </mat-form-field>
        <br />
        <button type="submit" mat-button [disabled]="!nameForm.valid">Update Name</button>
      </form>
    </mat-card-content>
  </mat-card>
</div>
